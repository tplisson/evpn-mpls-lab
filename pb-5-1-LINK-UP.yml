---
  - hosts: localhost:S-DC1-1
    gather_facts: no
    tasks:
    - set_fact: 
        testcase: '5.1-LF-CONVERG-EVI10-20-SRX-T5'
        test_dir: "testcase/5.1-LF-CONVERG-EVI10-20-SRX-T5/4/UP"
        cacheable: yes
    
  - hosts: localhost
    gather_facts: no
    tasks:
    - file: 
        path: "{{playbook_dir}}/{{test_dir}}" 
        state: directory

  - name: "Test {{testcase|upper}} - Restoring interface ae3 on S-DC1-1 (laser on)"
    hosts: S-DC1-1
    roles:
      - Juniper.junos
    connection: local
    gather_facts: no
    tasks:
    - name: Bringing up interface
      juniper_junos_command:
        command:
          - 'request pfe execute target fpc0 command "test qsfp 10 laser on"'
        dest_dir: "{{playbook_dir}}/{{test_dir}}/"
      register: response
      
    - name: Print the coutput.
      debug:
        var: response